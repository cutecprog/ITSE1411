<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Andrea Grooms - Repetition-2</title>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="author" content="Andrea Grooms" />
<meta name="description" content="02_repetition.htm as decribe in rubric." />
<script type="text/javascript">
/*
prompt_user()
Continues to prompt user until they enter valid data
Ex: prompt_user("How you you?", "Good/Bad");
*/
function prompt_user(question, valid)
{
    // Removes question mark
    if(question[question.length-1] == '?')
        question = question.substr(0,question.length-1);
        
    valid = valid.toLowerCase();
    valid_list = valid.split('/');
    
    // Get input (change that can cause base case)
    ans = window.prompt(question+"("+valid+")?", valid_list[0]);
    
    // Check if the input was valid (base case)
    for(i=0; i<valid_list.length; i++) {
        if(ans == valid_list[i])
            return ans;
    }
    return prompt_user(question, valid);
}
</script>
</head>

<body>
<pre id="main"></pre>

<script type="text/javascript">
<!--
var main = document.getElementById("main"); // Namespace
var  principle, savings, interest, compound =12;

function get_data()
{
    principle = parseFloat(window.prompt("Enter savings amount","10000.0"));
    interest = parseFloat(window.prompt("Enter interest rate",".08"));
}

/*
So I didn't know how often interest rate is suppose to compound. I'm assuming
monthly. Used the following equation.
f(t) = P(1+r/n)^(n*t) where
    P    = principle
    f(t) = future value
    r    = interest rate
    n    = # of times per year interest in compounded
    t    = number of years invested
*/
function calc_data()
{
    var product = 1;
    for(i=0; i<compound; i++)
        product *= 1+(interest/compound);
    savings = principle * product;    
}

function display_data()
{
    main.innerHTML+="Principle: $"+principle+"\nInterest Rate: "+interest+" @ "+
    compound+"\nSavings after one year: $"+(Math.round(savings*100)/100)+"\n\n";
}

while(prompt_user("Would you like to run program?","yes/no")=="yes") {
    get_data();
    calc_data();
    display_data()
}
main.innerHTML+="End of Program\n";
// -->
</script>

</body>

</html>